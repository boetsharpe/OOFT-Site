<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OOFT</title>

    <!-- Metadata for SEO -->
    <meta name="description" content="Not really a studio. No business plan. Just me in the spare bedroom making stuff.">
    
    <!-- Favicon -->
    <link rel="icon" href="path/to/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" sizes="180x180" href="s3://leslies3bucket/OOFT/1440 optimised/ooft_pro.jpg">

    <!-- Open Graph Metadata (for social sharing) -->
    <meta property="og:title" content="OOFT Studio">
    <meta property="og:description" content="Not really a studio. No business plan. Just me in the spare bedroom making stuff.">
    <meta property="og:image" content="s3://leslies3bucket/OOFT/1440 optimised/ooft_pro.jpg">
    <meta property="og:url" content="https://www.oofstudio.com">
    <meta property="og:type" content="website">

    <!-- Twitter Card Metadata -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="OOFT Studio">
    <meta name="twitter:description" content="Discover innovative and experimental design solutions at OOFT Studio.">
    <meta name="twitter:image" content="s3://leslies3bucket/OOFT/1440 optimised/ooft_pro.jpg">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://www.oofstudio.com">

    <!-- Preload Fonts -->
    <style>
     /* Font Face */
@font-face {
    font-family: 'bb-modern-semi-condensed';
    src: url('bb-modern-semi-condensed.woff2') format('woff2'),
         url('bb-modern-semi-condensed.woff') format('woff'),
         url('bb-modern-semi-condensed.ttf') format('truetype');
    font-weight: normal;
    font-style: normal;
}

/* Global Styles */
body, html {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    background-color: #E6E6E6;
    overflow: hidden;
    user-select: none; /* Disables text selection */
    -webkit-user-select: none; /* Safari */
    -moz-user-select: none; /* Firefox */
    -ms-user-select: none; /* IE/Edge */
    cursor: default; /* Prevents text selection cursor */
}

/* Video Container */
#video-container {
    width: 100vw;
    height: 100%;
    overflow: hidden;
    position: relative;
}

.fullscreen-height {
    height: 100vh; /* Fallback for browsers that support 100vh correctly */
}

#video-player {
    width: 100%;
    height: auto;
    min-height: 100vh;
    position: absolute;
    bottom: 0;
    left: 0;
}

@media (min-width: 769px) {
    #video-player {
        width: 100vw;
        object-fit: contain;
        object-position: 0% 100%;
    }
}

@media (max-width: 768px) {
    #video-player {
        width: 100%;
        height: 100%;
        object-fit: cover;
        object-position: top left;
    }
}

/* Navigation Overlay */
.nav-overlay {
    position: absolute;
    top: 1.5rem;
    right: 1.5rem;
    display: flex;
    gap: 0.2rem;
    z-index: 200;
    transition: opacity 0.3s ease, visibility 0.3s ease;
    visibility: hidden;
    opacity: 0;
}

.nav-overlay.visible {
    visibility: visible;
    opacity: 1;
}

/* General Button Styling */
.button {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 1.5rem; /* Button size */
    height: 1.5rem; /* Button size */
    border-radius: 0.4rem; /* Rounded corners */
    border: 0x solid black; /* Border style */
    background-color: rgba(187, 187, 187, 0.641); /* Transparent background */
    text-decoration: none; /* No underline */
    transition: background-color 0.3s ease, border-radius 0.3s ease; /* Smooth hover transition */
    cursor: pointer; /* Pointer cursor */
    overflow: hidden; /* Prevent content overflow */
}

.button:hover {
    background-color: #000; /* Black background on hover */
    border-color: #fff; /* White border on hover */
}

/* Shared SVG Styling */
.button img {
    max-width: 50%; /* Restrict SVG width relative to the container */
    max-height: 50%; /* Restrict SVG height relative to the container */
    object-fit: contain; /* Ensure SVG scales properly */
    display: block; /* Remove inline spacing */
    margin: auto; /* Center SVG inside the container */
    filter: invert(0); /* Default black icon */
    transition: filter 0.3s ease; /* Smooth transition for hover */

}

.button:hover img {
    filter: invert(1); /* Invert SVG color to white on hover */
}

/* Specific to Navigation Overlay Buttons */
.nav-overlay .link-block {
    /* Inherits from .button */
}

/* Specific to Close Icon */
.close-icon {
    position: absolute;
    top: 1.5rem;
    right: 1.5rem;
    /* Inherits from .button */
}

@media (max-width: 768px) {
    .nav-overlay {
        top: auto;
        right: 1rem;
        bottom: 1rem;
        gap: 0.2rem;
    }

    .button {
        width: 1.5rem; /* Smaller button size */
        height: 1.5rem; /* Smaller button size */
    }

    .button img {
        max-width: 50%; /* Smaller SVG size */
        max-height: 50%; /* Smaller SVG size */
    }
}

/* Modal Styles */
/* Modal Styles */
.info-modal {
    display: none;
    opacity: 0;
    pointer-events: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background-color: rgba(230, 230, 230, 0.8);
    backdrop-filter: blur(10px);
    transition: opacity 0.3s ease; /* Modal fade-in */
}

.info-modal.visible {
    display: flex;
    opacity: 1;
    pointer-events: auto;
}

/* Fade-in animation for all content inside the modal */
.info-modal .content > * {
    opacity: 0;
    transition: opacity 0.3s ease 0.3s; /* Delay fade-in by 0.3s after modal appears */
}

.info-modal.visible .content > * {
    opacity: 1;
}
/* Ensure the modal hides after fading out */
.info-modal:not(.visible) {
    display: none;
}

/* Content Styles */
.content {
    background: rgba(255, 255, 255, 0);
    overflow: auto;
    padding: 1.5rem;
    padding-top: 0rem;
    font-family: 'bb-modern-semi-condensed', sans-serif;
    font-size: clamp(1.5rem, 2.5vw, 3rem);
    line-height: 1;
    color: #000;
    text-align: left;
    width: 90vw; 
}

.content a {
    color: #000;
    text-decoration: none;
    transition: opacity 0.3s ease;
}

.content a:hover {
    opacity: 0.5;
}

</style>
</head>
<body>
      <!-- Video Container -->
      <div id="video-container" class="fullscreen-height">
        <video id="video-player" muted autoplay playsinline preload="auto"></video>
    </div>

    <!-- Navigation Overlay -->
    <div class="nav-overlay visible">
        <!-- Mute/Unmute Button -->
        <div class="link-block button" id="muteToggle">
            <img id="muteIcon" src="svg/unmute.svg" alt="Mute/Unmute">
        </div>
        <!-- Reload Button -->
        <div class="link-block button" id="reloadIcon">
            <img src="svg/reload.svg" alt="Reload">
        </div>
        <!-- Info Button -->
        <div class="link-block button" id="infoToggle">
            <img id="infoIcon" src="svg/info.svg" alt="Info">
        </div>
    </div>

    <!-- Info Modal -->
    <div id="infoModal" class="info-modal">
        <div class="content">
            <div class="close-icon button" id="closeIcon">
                <img src="svg/close.svg" alt="Close Modal">
            </div>
            <p>
                Not really a studio. No business plan. 
                Just a place to channel an unlikely mix of skills and interests. 
                To make things for myself. 
                A creative plugin for agencies and clients. 
                Worlds built from thin air. Advertising. CGI. 
                Graphic design. Art. Digital things. Physical things. All the things.
            </p>
            <br>
            <div>
                INSTA: <a href="https://www.instagram.com/ooft.studio/" target="_blank">@ooft.studio</a><br>
                EMAIL: <a href="mailto:boets@me.com">hi@ooft.studio</a><br>
                HISTORY: <a href="https://www.leslie.work" target="_blank">leslie.work</a>
            </div>
        </div>
    </div>

    <link rel="preload" href="svg/mute.svg" as="image">
    <link rel="preload" href="svg/unmute.svg" as="image">
    <link rel="preload" href="svg/reload.svg" as="image">
    <link rel="preload" href="svg/info.svg" as="image">
    <link rel="preload" href="svg/close.svg" as="image">
    <link rel="preload" href="svg/down.svg" as="image">

    <script>
        const adjustFullHeight = () => {
            const videoContainer = document.getElementById('video-container');
            videoContainer.style.height = `${window.innerHeight}px`;
        };
    
        // Adjust height on load and resize
        window.addEventListener('DOMContentLoaded', adjustFullHeight);
        window.addEventListener('resize', adjustFullHeight);
    </script>
    <script>
      // Updated Arrays of 1440x1440 video links and corresponding poster images
const videoLinks = [
    "https://leslies3bucket.s3.ap-southeast-2.amazonaws.com/OOFT/1440%20optimised/web_ASCII.mp4",
    "https://leslies3bucket.s3.ap-southeast-2.amazonaws.com/OOFT/1440%20optimised/web_cat.mp4",
    "https://leslies3bucket.s3.ap-southeast-2.amazonaws.com/OOFT/1440%20optimised/web_Burnout.mp4",
    "https://leslies3bucket.s3.ap-southeast-2.amazonaws.com/OOFT/1440%20optimised/web_Candle.mp4",
    "https://leslies3bucket.s3.ap-southeast-2.amazonaws.com/OOFT/1440%20optimised/web_Clay.mp4",
    "https://leslies3bucket.s3.ap-southeast-2.amazonaws.com/OOFT/1440%20optimised/web_Condensation.mp4",
    "https://leslies3bucket.s3.ap-southeast-2.amazonaws.com/OOFT/1440%20optimised/web_Goo.mp4",
    "https://leslies3bucket.s3.ap-southeast-2.amazonaws.com/OOFT/1440%20optimised/web_Mirror%20comp.mp4",
    "https://leslies3bucket.s3.ap-southeast-2.amazonaws.com/OOFT/1440%20optimised/web_Squeeze.mp4",
    "https://leslies3bucket.s3.ap-southeast-2.amazonaws.com/OOFT/1440%20optimised/web_stickers2.mp4",
    "https://leslies3bucket.s3.ap-southeast-2.amazonaws.com/OOFT/1440%20optimised/web_Tech%20comp.mp4",
    "https://leslies3bucket.s3.ap-southeast-2.amazonaws.com/OOFT/1440%20optimised/web_Wood1.mp4",
    "https://leslies3bucket.s3.ap-southeast-2.amazonaws.com/OOFT/1440%20optimised/web_milk%20comp.mp4"
];

const imageLinks = [
    "https://leslies3bucket.s3.ap-southeast-2.amazonaws.com/OOFT/1440%20optimised/ASCII.jpg",
    "https://leslies3bucket.s3.ap-southeast-2.amazonaws.com/OOFT/1440%20optimised/web_cat.jpg",
    "https://leslies3bucket.s3.ap-southeast-2.amazonaws.com/OOFT/1440%20optimised/Burnout.jpg",
    "https://leslies3bucket.s3.ap-southeast-2.amazonaws.com/OOFT/1440%20optimised/Candle.jpg",
    "https://leslies3bucket.s3.ap-southeast-2.amazonaws.com/OOFT/1440%20optimised/Clay.jpg",
    "https://leslies3bucket.s3.ap-southeast-2.amazonaws.com/OOFT/1440%20optimised/Condensation.jpg",
    "https://leslies3bucket.s3.ap-southeast-2.amazonaws.com/OOFT/1440%20optimised/Goo.jpg",
    "https://leslies3bucket.s3.ap-southeast-2.amazonaws.com/OOFT/1440%20optimised/Mirror%20comp.jpg",
    "https://leslies3bucket.s3.ap-southeast-2.amazonaws.com/OOFT/1440%20optimised/Squeeze.jpg",
    "https://leslies3bucket.s3.ap-southeast-2.amazonaws.com/OOFT/1440%20optimised/web_stickers2.jpg",
    "https://leslies3bucket.s3.ap-southeast-2.amazonaws.com/OOFT/1440%20optimised/Tech%20comp.jpg",
    "https://leslies3bucket.s3.ap-southeast-2.amazonaws.com/OOFT/1440%20optimised/Wood1.jpg",
    "https://leslies3bucket.s3.ap-southeast-2.amazonaws.com/OOFT/1440%20optimised/milk%20comp.jpg"
];
    
        const mobileVideoLinks = [
            "https://leslies3bucket.s3.ap-southeast-2.amazonaws.com/OOFT/1440x2560/mob_clay.mp4",
            "https://leslies3bucket.s3.ap-southeast-2.amazonaws.com/OOFT/1440x2560/mob_milk.mp4",
            "https://leslies3bucket.s3.ap-southeast-2.amazonaws.com/OOFT/1440x2560/mob_squeeze.mp4",
            "https://leslies3bucket.s3.ap-southeast-2.amazonaws.com/OOFT/1440x2560/mob_tech.mp4",
            "https://leslies3bucket.s3.ap-southeast-2.amazonaws.com/OOFT/1440x2560/mob_wood.mp4",
        ];
    
        const mobileImageLinks = [
            "https://leslies3bucket.s3.ap-southeast-2.amazonaws.com/OOFT/1440x2560/mob_clay_first_frame.jpg",
            "https://leslies3bucket.s3.ap-southeast-2.amazonaws.com/OOFT/1440x2560/mob_milk_first_frame.jpg",
            "https://leslies3bucket.s3.ap-southeast-2.amazonaws.com/OOFT/1440x2560/mob_squeeze_first_frame.jpg",
            "https://leslies3bucket.s3.ap-southeast-2.amazonaws.com/OOFT/1440x2560/mob_tech_first_frame.jpg",
            "https://leslies3bucket.s3.ap-southeast-2.amazonaws.com/OOFT/1440x2560/mob_wood_first_frame.jpg",
        ];

        // Utility Functions
        const getRandomItem = (arr) => arr[Math.floor(Math.random() * arr.length)];
    
        const initializeVideo = () => {
            const videoPlayer = document.getElementById('video-player');
            const isMobile = window.innerWidth <= 768;
            const videoArray = isMobile ? mobileVideoLinks : videoLinks;
            const imageArray = isMobile ? mobileImageLinks : imageLinks;
    
            // Randomly select a video and show its poster
            let randomIndex = Math.floor(Math.random() * videoArray.length);
            videoPlayer.src = videoArray[randomIndex] + "?v=" + Date.now();
            videoPlayer.poster = imageArray[randomIndex];
    
            // Ensure poster is shown while loading
            videoPlayer.style.backgroundImage = `url(${imageArray[randomIndex]})`;
            videoPlayer.style.backgroundSize = "cover";
            videoPlayer.style.backgroundPosition = "center";
    
            videoPlayer.addEventListener('loadeddata', () => {
                // Remove poster background once video is ready
                videoPlayer.style.backgroundImage = "none";
    
                // Attempt to play the video
                videoPlayer.play().catch(error => {
                    console.warn("Autoplay blocked. User interaction may be required:", error);
                    // If autoplay fails, try again when the user interacts
                    videoPlayer.addEventListener('click', () => {
                        videoPlayer.play().catch(error => console.error("Error playing video:", error));
                    });
                });
            });
    
            videoPlayer.addEventListener('ended', () => playNextVideo(videoPlayer));
        };
    
        let lastPlayedIndex = null; // Variable to track the last played video's index

const playNextVideo = (videoPlayer) => {
    const isMobile = window.innerWidth <= 530;
    const videoArray = isMobile ? mobileVideoLinks : videoLinks;
    const imageArray = isMobile ? mobileImageLinks : imageLinks;

    let nextIndex;

    do {
        nextIndex = Math.floor(Math.random() * videoArray.length);
    } while (nextIndex === lastPlayedIndex); // Ensure the new index is different from the last

    lastPlayedIndex = nextIndex; // Update the last played index

    videoPlayer.src = videoArray[nextIndex] + "?v=" + Date.now();
    videoPlayer.poster = imageArray[nextIndex];

    // Show poster as background during transition
    videoPlayer.style.backgroundImage = `url(${imageArray[nextIndex]})`;
    videoPlayer.style.backgroundSize = "cover";
    videoPlayer.style.backgroundPosition = "center";

    videoPlayer.load();

    videoPlayer.addEventListener('loadeddata', () => {
        videoPlayer.style.backgroundImage = "none";
        videoPlayer.play().catch(error => console.warn("Error playing next video:", error));
    });
};
    
        const setupControls = () => {
            const videoPlayer = document.getElementById('video-player');
            const muteToggle = document.getElementById('muteToggle');
            const muteIcon = document.getElementById('muteIcon');
            const reloadIcon = document.getElementById('reloadIcon');
            const infoToggle = document.getElementById('infoToggle');
            const infoModal = document.getElementById('infoModal');
            const closeIcon = document.getElementById('closeIcon');
    
            let wasMutedBeforeModal = videoPlayer.muted; // Track the initial mute state
    
            // Load Mute State
            const savedMuteState = localStorage.getItem('isMuted') === 'true';
            videoPlayer.muted = savedMuteState;
            muteIcon.src = savedMuteState ? "svg/unmute.svg" : "svg/mute.svg";
    
            // Mute/Unmute Button
            muteToggle.addEventListener('click', () => {
                videoPlayer.muted = !videoPlayer.muted;
                muteIcon.src = videoPlayer.muted ? "svg/unmute.svg" : "svg/mute.svg";
                localStorage.setItem('isMuted', videoPlayer.muted);
            });
    
            // Reload Button
            reloadIcon.addEventListener('click', () => {
                // Instead of full reload, we can just reset everything
                initializeVideo();
                videoPlayer.currentTime = 0; // Reset video to start
                document.querySelector('.nav-overlay').classList.add('visible'); // Ensure controls are visible
                if (infoModal.classList.contains('visible')) {
                    infoModal.classList.remove('visible');
                    setTimeout(() => infoModal.style.display = 'none', 300);
                }
            });
    
            // Modal Open/Close
            const toggleModal = (isVisible) => {
                if (isVisible) {
                    wasMutedBeforeModal = videoPlayer.muted;
                    videoPlayer.muted = true; // Mute the video when the modal opens
                    document.querySelector('.nav-overlay').classList.remove('visible'); // Hide the navigation overlay
                    infoModal.style.display = 'flex'; // Make modal visible before transition
                    setTimeout(() => infoModal.classList.add('visible'), 10); // Add delay for fade-in
                } else {
                    if (!wasMutedBeforeModal) {
                        videoPlayer.muted = false;
                    }
                    document.querySelector('.nav-overlay').classList.add('visible'); // Show the navigation overlay
                    infoModal.classList.remove('visible'); // Start fade-out
                    setTimeout(() => {
                        infoModal.style.display = 'none'; // Ensure modal is hidden after fade-out
                    }, 300); // Match this timeout to the CSS `transition` duration (0.3s)
                }
            };
    
            infoToggle.addEventListener('click', () => toggleModal(true));
            closeIcon.addEventListener('click', () => toggleModal(false));
        };
    
        // Throttled Resize Handler
        let lastExecutionTime = 0;
        const throttleInterval = 50;
    
        window.addEventListener('resize', () => {
            const currentTime = Date.now();
    
            if (currentTime - lastExecutionTime > throttleInterval) {
                lastExecutionTime = currentTime;
                initializeVideo();
            }
        });
    
        // Ensure video starts playing on initial load
        document.addEventListener('DOMContentLoaded', () => {
            initializeVideo();
            setupControls();
            
            // Make sure controls are visible after everything is set up
            document.querySelector('.nav-overlay').classList.add('visible');
            
            // If the video doesn't play, try muting and playing again
            const videoPlayer = document.getElementById('video-player');
            videoPlayer.play().catch(() => {
                // If play() fails, try muting then playing again
                videoPlayer.muted = true;
                videoPlayer.play().catch(error => {
                    console.warn("Autoplay still blocked. User interaction required:", error);
                });
            });
        });
    </script>
</body>
</html>